@page "/giohang"
@using Components.Layout.Client;
@layout MainLayout

@if (Cart.Any())
{
<div class="cart-main-wrapper-complex">
	<div class="cart-title-section-unique">
		<h1>Giỏ hàng</h1>
	</div>

	<div class="cart-products-list-special">
		
			@foreach (var item in Cart)
			{
				<div class="cart-single-product-entry-detailed">
					<div class="product-visual-thumbnail-custom">
						<img src="@item.ImageUrl" alt="@item.ProductName">
					</div>
					<div class="product-details-description-extended">
						<h3 class="product-title-label-specific">@item.ProductName</h3>
					</div>

					<div class="product-cost-value-area">
						<span class="cost-display-text">
							@item.Price.ToString("N0") VNĐ
						</span>
					</div>

					<div class="product-count-selector-advanced">
						<button class="count-adjust-button-complex minus-variant"
								@onclick="() => DecreaseQuantity(item.ProductId)">
							−
						</button>

						<input type="text"
							   class="count-input-field-unique"
							   value="@item.Quantity"
							   readonly />

						<button class="count-adjust-button-complex plus-variant"
								@onclick="() => IncreaseQuantity(item.ProductId)">
							+
						</button>
					</div>

					<div class="product-subtotal-calculation-zone">
						<span class="subtotal-amount-output">
							(@(item.Price* item.Quantity)).ToString("N0") đ
						</span>
					</div>

					<button class="item-removal-trigger-special"
							@onclick="() => RemoveFromCart(item.ProductId)">
						×
					</button>
				</div>
			}
		
	</div>

	<div class="cart-summary-footer-detailed">
		<button class="resume-shopping-link-custom">
			<span class="navigation-arrow-icon">←</span> Tiếp tục mua hàng
		</button>
		<div class="overall-total-display-area">
			<span class="total-description-text">Tổng cộng: <strong class="grand-total-figure-highlight">@Total.ToString("N0")đ</strong></span>
			<a href="/thanhtoan" class="proceed-to-payment-button-extended">Thanh toán</a>
		</div>
	</div>
</div>
}
else
{
	<h3 class="text-center text-muted" style="margin-top: 50px; margin-bottom: 50px;">Giỏ hàng trống</h3>
}