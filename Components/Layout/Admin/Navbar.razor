@* @using BlazorStoreManagementWebApp.Services.Interfaces
@inject IAuthService IAuthService
@inject Blazored.SessionStorage.ISessionStorageService SessionStorage
@inject NavigationManager Navigation

<nav class="custom-navbar">
    <div class="navbar-content">
        <!-- Left side: Title -->
        <h1 class="navbar-title">
            <i class="fas fa-store"></i>
            <span>Quản lý Cửa hàng bán lẻ</span>
        </h1>

        <!-- Right side: User dropdown -->
        <div class="user-profile-dropdown">
            <button class="user-profile-btn">
                <span class="user-name">@FullName</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="user-dropdown-menu">
                <a href="#" class="dropdown-item">
                    <i class="fas fa-user"></i>
                    Thông tin cá nhân
                </a>
                <button class="dropdown-item" @onclick="Logout"> <i class="fas fa-sign-out-alt"></i> Đăng xuất</button>
            </div>
        </div>  
    </div>
</nav>

@code {
    private string FullName = "Admin User";
    protected override async Task OnInitializedAsync()
    {
        var fullName = await SessionStorage.GetItemAsync<string>("adminName");
        if (!string.IsNullOrEmpty(fullName))
        {
            FullName = fullName;
        }
    }

    private async Task Logout()
    {
        await SessionStorage.RemoveItemAsync("adminId");
        await SessionStorage.RemoveItemAsync("adminName");
        await SessionStorage.RemoveItemAsync("adminRole");

        Navigation.NavigateTo("/admin/dangnhap", forceLoad: true);
    }

} *@